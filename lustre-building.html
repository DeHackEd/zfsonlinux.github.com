<html>
<head>
<title>ZFS on Linux</title>
<meta name="keyword" content="zfs, linux"/>
<meta name="description" content="Building Lustre RPM Packages." />
<meta name="robots" content="all" />
</head>
<body>
<center>
<img src="images/zfs-linux.png">

<table width=80%>
	<tr>
		<td>
<p>To build the Lustre Orion branch you currently have two options.</p>

<ol>
	<li> If you don't require Lustre ldiskfs support, then you can simply
	build the spl+zfs+lustre sources using the official RHEL6.2 kernel.
	The resulting lustre build will <i>only</i> support zfs backends.</li>

	<li> If you require Lustre support for ldiskfs and zfs then
	you must start by patching and rebuilding your RHEL6.2 kernel.
	You should apply the patches listed in the
	<a href="https://github.com/chaos/lustre/blob/orion/lustre/
	kernel_patches/series/2.6-rhel6.series">series/2.6-rhel6.series</a>
	file from the
	<a href="https://github.com/chaos/lustre/tree/orion/lustre/
	kernel_patches/patches">patches/</a> directory.  If your unfamiliar
	with rebuilding the kernel the Fedora project has some nice
	documentation describing <a href="http://fedoraproject.org/
	wiki/Docs/CustomKernel">how to build a custom kernel</a>.</li>
</ol>

<p>Once you've selected one of the above options you can then build
the backend ldiskfs and zfs filesystems against your new kernel.
The Lustre build system has been extended to use the development
headers provided by these packages.  If you haven't done it already
<a href="https://github.com/chaos/">download the latest source</a>
for the following packages.  Then in the order listed below build
and install the resulting packages.</p>

<ul>
	<li><a href="spl-building-rpm.html">
	Build+Install SPL packages</a>
	(<a href="https://github.com/chaos/spl/tags">source</a>)</li>
	<li><a href="zfs-building-rpm.html">
	Build+Install ZFS packages</a>
	(<a href="https://github.com/chaos/zfs/tags">source</a>)</li>
	<li><a href="lustre-building-rpm.html">
	Build+Install Lustre packages</a>
	(<a href="https://github.com/chaos/lustre/tags">source</a>)</li>
	<li><a href="ldiskfsprogs-building-rpm.html">
	Build+Install ldiskfsprogs packages</a>
	(<a href="https://github.com/chaos/ldiskfsprogs/tags">source</a>)</li>
</ul>

		</td>
	</tr>
</table>

</center>
</body>
</html>
